# Покупай — Помогай
Благотворительный проект Александра Кулагина и Омельчук Григория, разработанный в рамках сотрудничества IT школы Samsung и X5 Group.

<a href="https://codeclimate.com/github/IFraimG/nofoodsharingproject_x5/maintainability"><img src="https://api.codeclimate.com/v1/badges/43002fad82fd9eabe136/maintainability" /></a>
[![Android CI](https://github.com/IFraimG/nofoodsharingproject_x5/actions/workflows/android.yml/badge.svg)](https://github.com/IFraimG/nofoodsharingproject_x5/actions/workflows/android.yml)

Пожалуйста, проверьте страницу [CONTRIBUTING](CONTRIBUTING.md), если вы хотите помочь.


![logotype](https://github.com/IFraimG/nofoodsharingproject_x5/blob/master/app/src/main/res/drawable-v24/logo2.png)

## Основная идея проекта:
Создание приложения для людей, которые располагают возможностью помочь малообеспеченным, удобно совершать пожертвоания.


## Техническое задание:
- Создать мобильное приложение
- В приложении быть два типа аккаунтов "Отдающий" и "Принимающий".
- Создана система авторизации, профили и тд.
- "Принимающий" пользователь имеет возможность создавать объявления о его нужде в каких-то продуктах первой необхости в магазине. Также, он должен быть ограничен в запросе продуктов - не более трёх в одном объявлении.
- "Принимающий" пользователь имеет возможность выбирать ему удобный ему магазин и прикрепляться к нему для создания объявления.
- "Принимающий" пользователь имеет возможность удаления объявления.
- "Отдающий" пользователь может просматривать объявления от "Принимающих" в магазине, к которому он прикреплён.
- В радиусе 50м от магазина "Отдающему" пользователю должно приходить push уведомление о возможности совершения пожертвования в близлежайшем магазине.
- В приложении "Отдающего" пользователя должен генерироваться код, который должен быть написан на пакете, для того, чтобы "Принимающий" пользователь мог забрать продукты.
- "Отдающий" пользователь должен иметь возможность сообщить о пожертвовании "Принимающему" пользователю. Создание чата.
- Оба типа пользователей должны иметь возможность редактирования данных своего аккаунта.
- Объявление "Принимающего" пользователя перестаёт существовать при закрытии магазина.
- Также реализованна система фильтрации объявлений.
- "Принимающему" пользователю также должны приходить push уведомления об изменении статуса его объявления.
- Для "Отдающего" пользователя должна быть реализована система поощрений (В данный момент - vk чекбек, в дальнейшем - баллы на карту магазина x5 group).
- Оба типа пользователей должны иметь возможность просматривать на карте близлежайшие к ним магазины, учавствующие в проекте, а также строить маршрут до них.
- Также пользователи имеют возможность посмотреть историю передач.
- Время, в течение которого "Принимающий" пользователь может забрать продукты из магазина – 2 часа с момента пожертвования "Отдающего" пользователя.
- Время, в течение которого уведомление о "Нуждающемся" отправляется один раз – 2 часа
- Ограничение работы уведомлений и создание объявлений – 23:00 - 10:00 (или время открытия магазина, к которому прикреплён "нуждающийся" пользователь).


## Устройство кода проекта
#### Языки
```
java
xml
javaScript
```
#### Технологии
##### Android (SDK 24+):
- Архитектура MVVM
- Navigation graph
- Recyclerview
- Retrofit2
- Yandex Mapkit
- Firebase Cloud Messaging
- Encrypted Sharedpreferences
- Socket-io java client
- Data binding
- Glide
- Notification Service
- Location Service

##### Node.js (Express.js):
- Архитектура MVC
- MongoDB (Mongoose)
- Passport.js (Json Web Token)
- Bcrypt.js
- Socket.io
- Nodemon
- Day.js
- Docker


#### Данные
Для хранения данных о аккаунте пользователя непосредственно на устройстве используются SharedPreferences.
Данные о объявлениях "Принимающих" пользователей, их статусах, аккаунтах, чатах и тд хрянятся на сервере и испозуются в приложении с помощью фреймворка Retrofit. С помощью MongoDB реализованно использование баз данных, а через Socket.io реализована работа чата в приложении. Шифрование данных - Bcrypt.js.

#### Реализация (Регулярно обновляется)
###### Java
| Android class           | Функция |
|-------------------------| ------ |
| ChatActivity            | Чат |
| ChatListActivity        | Список чатов |
| FaqActivity             | Faq |
| NeedyActivity          | Основная активности "принимающего" пользователя |
| NeedyNewAdvertActivity | Создание нобъявление "принимающим" пользователем |
| MainActivity            | Основная активность |
| MainAuthActivity        | Основная активность регистрации |
| GiverActivity           | Основная активности "отдающего" пользователя |
| giverAdvertActivity     | Просмотр объявления "принимающего" пользователя "отдающим" |
| giverHelpFinishActivity | Сообщение об успешном пожертвовании и переход в vk чекбек |
| NeedyAuthfragment      | Фрагмент авторизации "принимающего" пользователя|
| MainAuthFragment        | Основной Фрагмент авторизации|
| GiverAuthFragment       |  Фрагмент создания "отдающего" пользователя |
| GiverLoginAuthFragment  | Фрагмент авторизации "отдающего" пользователя |
| NeedyAdvsFragment      | Раздел "объявления" в аккаунте "принимающего" в приложении|
| NeedyProfileFragment   | Раздел "профиль" в аккаунте "пинимающего" в приложении|
| GiverAdvsFragment       | Раздел "объявления" в аккаунте "отдающего" в приложении|
| GiverProfileFragment   | Раздел "профиль" в аккаунте "отдающего" в приложении|
| MarketsMapFragment      | Раздел "карта" в приложении|
| NotifyFragment          | Раздел "уведомления" в приложении|
| SecretFragment          | Для разработчиков |

| Adapter | Функция |
| ------ | ------ |
| FaqAdapter | Адаптер для Faq |
| NeedyNotificationsAdapter | Адаптер уведомлений "принимающего" пользователя|
| MessagesAdapter | Адаптер сообщений|
| GiverAdvertListAdapter | Адаптер списка объявлений у "отдающего" пользователя |

| Models | Функция |
| ------ | ------ |
| Advertisment| Модель обявлений |
| Chat | Модель чатов |
| Faq | Модель faq |
| Needy | Модель "принимающих" пользователей |
| LoaderStatus | Модель статуса загрузки |
| Market | Модель магазинов |
| Message | Модель сообщений |
| Notification | Модель уведомлений |
| Giver| Модель "отдающих" пользователей |
| ShortDataUser | Модель данных о пользователях |

Далее, рассмотрим по папкам классов:
| Папка | Функция |
| ------ | ------ |
| data| отвечают за взаимодействие с данными|
| services | Сервисы |
| utils | Проверки, валидации, и тд|
| view_models | Модели отображений элементов |
Итого - 93 класса.

###### Xml
- Все повторяющиеся элементы дизайна вынесены в res/values/
- Прописаны правила взаимодействия
- Добавлены кастомные шрифты x5 group
- Названия айтемов включают в себя слово "item", в остальных "Layout" прописанно название соответственное с его функцией и названием java класса.

## Политика конфедициальности
Александр Кулагин и Григорий Омельчук создали приложение Покупай-помогай в качестве бесплатного приложения. Эта услуга предоставляется Александром и Григорием бесплатно и предназначена для использования как есть. Эта страница используется для информирования посетителей о наших правилах сбора, использования и раскрытия Личной информации, если кто-то решил воспользоваться моим Сервисом. Если вы решите использовать наш Сервис, вы соглашаетесь на сбор и использование информации в связи с этой политикой. Личная информация, которую я собираю, используется для предоставления и улучшения Сервиса. Я не буду использовать или делиться вашей информацией с кем-либо, кроме случаев, описанных в настоящей Политике конфиденциальности. Сбор и использование информации:
Для лучшего опыта при использовании нашего Сервиса я могу потребовать от вас предоставить нам определенную личную информацию, включая, помимо прочего, геолокацию и состояние телефона. Информация, которую я запрашиваю, будет сохранена на вашем устройстве и никоим образом не будет собираться мной.
Приложение использует сторонние сервисы, которые могут собирать информацию, используемую для вашей идентификации.
Изменения в настоящей Политике конфиденциальности:
Я могу время от времени обновлять нашу Политику конфиденциальности. Таким образом, вам рекомендуется периодически просматривать эту страницу на предмет любых изменений. Я сообщу вам о любых изменениях, опубликовав новую Политику конфиденциальности на этой странице. Эти изменения вступают в силу сразу после публикации на этой странице.
Если у вас есть какие-либо вопросы или предложения относительно моей Политики конфиденциальности, не стесняйтесь обращаться ко мне по адресу pokupaypomogay@mail.ru .


*Приятного пользования!*
